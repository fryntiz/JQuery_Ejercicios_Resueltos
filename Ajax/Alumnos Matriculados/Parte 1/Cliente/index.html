<!DOCTYPE html>
<!--
 @author Raúl Caro Pastorino
 @copyright Copyright © 2017 Raúl Caro Pastorino
 @license https://wwww.gnu.org/licenses/gpl.txt
-->

<!--
↓ INSTRUCCIONES DEL EJERCICIO ↓
Mostrar la información de los alumnos matriculados en un centro organizado
por cursos (1º y 2º).

Mostrar un botón en la parte superior con el texto "Ver Cursos" que al ser
pulsado realice una petición al servidor (../Servidor/consulta.php) mediante GET
desde la que se recibirá una cadena JSON que pasaremos a objeto Javascript.

El objeto recibido contiene dos objetos con la siguiente estructura:
    - primero
        - nombre
        - dni
        - acceso
    - segundo
        - nombre
        - dni
        - acceso
-->
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Ejercicios DOM Básicos</title>
    <script src="./jquery-3.3.1.js"></script>
    <script>
    window.onload = function() {
        // TODO → Optimizar estructura que se repite:
        $.getJSON('../Servidor/consulta.php', function (data) {
            $.each(data[0], function (index, obj) {
                console.log(obj);
                $('#boxFirst').append('<li>' +
                    'Nombre: ' + obj.nombre +
                    ' Dni: ' + obj.dni +
                    ' Acceso: ' + obj.acceso +
                    '</li>'
                );
            });

            $.each(data[1], function (index, obj) {
                console.log(obj);
                $('#boxSecond').append('<li>' +
                    'Nombre: ' + obj.nombre +
                    ' Dni: ' + obj.dni +
                    ' Acceso: ' + obj.acceso +
                    '</li>'
                );
            });
        });
    }
    </script>
</head>

<body>
    <div id="boxFirst"><h2>1ºDAW</h2></div>
    <div id="boxSecond"><h2>2ºDAW</h2></div>
</body>
</html>
