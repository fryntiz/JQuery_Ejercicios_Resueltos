<!DOCTYPE html>
<!--
 @author Raúl Caro Pastorino
 @copyright Copyright © 2017 Raúl Caro Pastorino
 @license https://wwww.gnu.org/licenses/gpl.txt
-->

<!--
↓ INSTRUCCIONES DEL EJERCICIO ↓
Crea 5 cajas (bloques div) que se puedan ordenar mediante
http://jqueryui.com/sortable/ y jquery de forma que cuando estén las
5 vocales en orden y se pulse comprobar muestre un diálogo de
confirmación, en caso contrario de fallo.

Cuando lleva dos partidas jugadas muestra si ha ganado y aparece un
botón que da la posibilidad de reiniciar.
-->
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>jQuery-ui Sortable</title>
    <style>
        #sortable {
            margin: 0;
            padding: 0;
            width: 550px;
        }

        #sortable li {
            list-style: none;
            margin: 3px 3px 3px 0;
            padding: 1px;
            float: left;
            width: 100px;
            height: 90px;
            font-size: 4em;
            text-align: center;
            border: 1px solid;
        }

        .oculto {
            visibility: hidden;
        }
    </style>
    <link href="./jquery-ui.css" />
    <script src="./jquery-3.3.1.js"></script>
    <script src="./jquery-ui.js"></script>
    <script>
        var letras = ['A', 'E', 'I', 'O', 'U'];

        function desordena() {
            // Rellena el html con el array "letras" desordenado
        }

        function ganar() {
            alert('Has ganado');
        }

        function perder() {
            alert('Has perdido');
        }

        function comparar() {
            var cajas = $('#sortable > .ui-state-default > span');

            for (x in cajas) {
                console.log($(cajas[x]).text());
                console.log(letras[x]);
                if ($(cajas[x]).text() != letras[x]) {
                    return false
                }
            }

            return true
        }

        function finpartida() {
            // Comprueba si es la segunda vez
            // En caso de ser la segunda vez y fin de partida
            // Mostrará el resultado
        }

        function comprobar() {
            if (comparar()) {
                ganar();
            } else {
                perder();
            }

            finpartida();
        }

        window.onload = function() {
            $('#sortable').sortable();
            $('#sortable').disableSelection();

            // Evento sobre botón de comprobar
            $('button').on('click', comprobar);
        }
    </script>
</head>
<body>
    <ul id="sortable">
        <li class="ui-state-default"><span>A</span></li>
        <li class="ui-state-default"><span>E</span></li>
        <li class="ui-state-default"><span>I</span></li>
        <li class="ui-state-default"><span>O</span></li>
        <li class="ui-state-default"><span>U</span></li>
    </ul>
    <button>Comprobar</button>
</body>
</html>
